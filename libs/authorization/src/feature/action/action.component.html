<div class="authorization-actions-container">
  <nz-card
    class="authorization-actions-card"
    [nzBordered]="false"
    [nzTitle]="cardTitleTpl"
    [nzExtra]="extraTpl"
  >
    <!-- search form -->
    <div class="search-form-container">
      <form nz-form [formGroup]="formSearch">
        <div class="form-search-grid" nz-row [nzGutter]="16">
          <div class="form-grid-item" nz-col [nzSpan]="8">
            <nz-form-item>
              <nz-form-label nzFor="code">{{ "base-fe.actions.code" | translate }}</nz-form-label>
              <nz-form-control>
                <input nz-input name="code" type="text" id="code" formControlName="code" (keyup.enter)="search()">
              </nz-form-control>
            </nz-form-item >
          </div>
          <div class="form-grid-item" nz-col [nzSpan]="8">
            <nz-form-item>
              <nz-form-label nzFor="name">{{ "base-fe.actions.name" | translate }}</nz-form-label>
              <nz-form-control>
                <input nz-input name="name" type="text" id="name" formControlName="name" (keyup.enter)="search()">
              </nz-form-control>
            </nz-form-item >
          </div>
          <div class="form-grid-item" nz-col [nzSpan]="8">
            <nz-form-item>
              <nz-form-label nzFor="status">{{ "base-fe.common.status" | translate }}</nz-form-label>
              <nz-form-control>
                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="{{ 'base-fe.common.status' | translate }}" formControlName="status">
                  <nz-option nzLabel="{{ 'base-fe.common.active' | translate}}" [nzValue]="1"></nz-option>
                  <nz-option nzLabel="{{ 'base-fe.common.inactive' | translate}}" [nzValue]="0"></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item >
          </div>
        </div>
      </form>
      <div class="search-btn-container">
        <button nz-button (click)="search()"><span nz-icon nzType="search" nzTheme="outline"></span> {{ 'base-fe.common.search' | translate }}</button>
      </div>
    </div>
    <!-- table actions -->
    <nz-table #actionsTbl 
      [nzData]="listActions"
      [nzFrontPagination]="false"
      [nzTotal]="total"
      [nzPageSize]="pagination.size"
      (nzPageIndexChange)="onChangePageIndex($event)"
      [nzShowTotal]="totalTpl"
      [nzNoResult]="noDataTpl"
    >
      <thead>
        <tr>
          <th>{{ "base-fe.common.stt" | translate }}</th>
          <th>{{ "base-fe.actions.code" | translate }}</th>
          <th>{{ "base-fe.actions.name" | translate }}</th>
          <th>{{ "base-fe.common.status" | translate }}</th>
          <th>{{ "base-fe.common.created-date" | translate }}</th>
          <th>{{ "base-fe.common.more-actions" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of actionsTbl.data; index as ind">
          <td>{{ ind + 1 + pagination.page * pagination.size }}</td>
          <td>{{ data.code }}</td>
          <td>{{ data.name }}</td>
          <td>{{ data.status | statusCommon }}</td>
          <td>{{ data.updateTime | date: "dd/MM/yyyy hh:mm:ss" }}</td>
          <td class="action-btns">
            <button nz-button nzType="primary"><span nz-icon nzType="edit" nzTheme="fill"></span></button>
            <button nz-button nzDanger><span nz-icon nzType="delete" nzTheme="fill"></span></button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>
</div>

<ng-template #cardTitleTpl>
  <div class="authorization-actions-card-title">
    {{ "base-fe.actions.title" | translate }}
  </div>
</ng-template>

<ng-template #extraTpl>
  <button class="create-btn" nz-button nzType="primary">
    <span nz-icon nzType="plus" nzTheme="outline"></span>
    {{ "base-fe.actions.create-btn" | translate }}
  </button>
</ng-template>

<ng-template #totalTpl>
  {{ total }} {{ 'base-fe.common.num-of-records' | translate }}
</ng-template>

<ng-template #noDataTpl>
  <nz-empty nzNotFoundContent="{{ 'base-fe.common.no-data' | translate }}"></nz-empty>
</ng-template>